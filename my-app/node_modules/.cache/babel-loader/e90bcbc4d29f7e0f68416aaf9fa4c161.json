{"ast":null,"code":"var _jsxFileName = \"/home/webdev/Desktop/practice/my-app/src/components/manage/common/dailyupdate.js\";\nimport React, { useEffect, useReducer } from \"react\";\nimport { DailyUpdate } from \"../../actions/Api\";\nimport { CircleLoading } from \"react-loadingg\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"98%\",\n    margin: \"5% auto\"\n  },\n  container: {\n    maxHeight: 440\n  },\n  formControl: {\n    marginLeft: \"1%\",\n    minWidth: 250\n  }\n}));\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"load\":\n      {\n        return { ...state,\n          isloading: true\n        };\n      }\n\n    case \"loaded\":\n      {\n        return { ...state,\n          isloading: false,\n          rows: action.item,\n          rowsbackup: action.item\n        };\n      }\n\n    case \"search\":\n      {\n        return { ...state,\n          isloading: false,\n          rows: action.item\n        };\n      }\n\n    default:\n      break;\n  }\n\n  return state;\n}\n\nconst InitialState = {\n  isloading: false,\n  rows: [],\n  rowsbackup: [],\n  columns: [{\n    id: \"combinedKey\",\n    label: \"Name\",\n    minWidth: 170\n  }, {\n    id: \"countryRegion\",\n    label: \"ISO\\u00a0Code\",\n    minWidth: 100\n  }, {\n    id: \"provinceState\",\n    label: \"Province State\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toLocaleString()\n  }, {\n    id: \"confirmed\",\n    label: \"Confirmed Case\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toFixed(2)\n  }, {\n    id: \"recovered\",\n    label: \"Recovered Case\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toFixed(2)\n  }, {\n    id: \"deaths\",\n    label: \"Deaths Case\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toFixed(2)\n  }]\n};\nexport default function TableData(props) {\n  const classes = useStyles();\n  const [state, dispatch] = useReducer(reducer, InitialState);\n  const {\n    rows,\n    rowsbackup,\n    columns,\n    isloading\n  } = state;\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  useEffect(() => {\n    let isSubscribed = true;\n\n    if (isSubscribed) {\n      dispatch({\n        type: \"load\"\n      });\n\n      const Loaddata = async () => {\n        await DailyUpdate().then(res => {\n          console.log(res.data);\n          dispatch({\n            type: \"loaded\",\n            name: \"general_info\",\n            item: res.data\n          });\n        }).catch(err => console.log(err));\n      };\n\n      Loaddata();\n    }\n\n    return () => {\n      console.log(\"unmounted\");\n      isSubscribed = false;\n    };\n  }, []);\n\n  const onSearch = async e => {\n    e.preventDefault();\n    console.log(e.currentTarget.value);\n    const result = rows.filter(element => element.combinedKey.toLowerCase().match(e.currentTarget.value.toLowerCase()));\n    console.log(result.length);\n\n    if (result.length > 0) {\n      dispatch({\n        type: \"search\",\n        name: \"general_info\",\n        item: result\n      });\n    } else {\n      dispatch({\n        type: \"search\",\n        name: \"general_info\",\n        item: rowsbackup\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }\n  }, isloading ? /*#__PURE__*/React.createElement(CircleLoading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Paper, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"filled-required\",\n    variant: \"filled\",\n    placeholder: \"Search Name...\",\n    fullWidth: true,\n    onChange: e => onSearch(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"filled\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"demo-simple-select-filled-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, \"ISO Code\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"demo-simple-select-filled-label\",\n    id: \"demo-simple-select-filled\" //   value={age}\n    //   onChange={handleChange}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }, \"None\")), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, \"Ten\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, \"Twenty\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, \"Thirty\")))), /*#__PURE__*/React.createElement(TableContainer, {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    stickyHeader: true,\n    \"aria-label\": \"sticky table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, columns.map(column => /*#__PURE__*/React.createElement(TableCell, {\n    key: column.id,\n    align: column.align,\n    style: {\n      minWidth: column.minWidth,\n      fontWeight: 600\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }, column.label)))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  }, rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      hover: true,\n      role: \"checkbox\",\n      tabIndex: -1,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 23\n      }\n    }, columns.map((column, indx) => {\n      const value = row[column.id];\n      return /*#__PURE__*/React.createElement(TableCell, {\n        key: indx,\n        align: column.align,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }, value);\n    }));\n  })))), /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [10, 25, 100, 200],\n    component: \"div\",\n    count: rows.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/home/webdev/Desktop/practice/my-app/src/components/manage/common/dailyupdate.js"],"names":["React","useEffect","useReducer","DailyUpdate","CircleLoading","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TextField","FormControl","Select","InputLabel","MenuItem","useStyles","theme","root","width","margin","container","maxHeight","formControl","marginLeft","minWidth","reducer","state","action","type","isloading","rows","item","rowsbackup","InitialState","columns","id","label","align","format","value","toLocaleString","toFixed","TableData","props","classes","dispatch","page","setPage","useState","rowsPerPage","setRowsPerPage","handleChangePage","event","newPage","handleChangeRowsPerPage","target","isSubscribed","Loaddata","then","res","console","log","data","name","catch","err","onSearch","e","preventDefault","currentTarget","result","filter","element","combinedKey","toLowerCase","match","length","display","map","column","fontWeight","slice","row","index","indx"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport { DailyUpdate } from \"../../actions/Api\";\nimport { CircleLoading } from \"react-loadingg\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"98%\",\n    margin: \"5% auto\"\n  },\n  container: {\n    maxHeight: 440\n  },\n  formControl: {\n    marginLeft: \"1%\",\n    minWidth: 250\n  }\n}));\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"load\": {\n      return {\n        ...state,\n        isloading: true\n      };\n    }\n    case \"loaded\": {\n      return {\n        ...state,\n        isloading: false,\n        rows: action.item,\n        rowsbackup: action.item\n      };\n    }\n    case \"search\": {\n        return {\n          ...state,\n          isloading: false,\n          rows: action.item,\n        };\n      }\n    default:\n      break;\n  }\n  return state;\n}\n\nconst InitialState = {\n  isloading: false,\n  rows: [],\n  rowsbackup: [],\n  columns: [\n    { id: \"combinedKey\", label: \"Name\", minWidth: 170 },\n    { id: \"countryRegion\", label: \"ISO\\u00a0Code\", minWidth: 100 },\n    {\n      id: \"provinceState\",\n      label: \"Province State\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toLocaleString()\n    },\n    {\n      id: \"confirmed\",\n      label: \"Confirmed Case\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toFixed(2)\n    },\n    {\n      id: \"recovered\",\n      label: \"Recovered Case\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toFixed(2)\n    },\n    {\n      id: \"deaths\",\n      label: \"Deaths Case\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toFixed(2)\n    }\n  ]\n};\n\nexport default function TableData(props) {\n  const classes = useStyles();\n  const [state, dispatch] = useReducer(reducer, InitialState);\n  const { rows, rowsbackup, columns, isloading } = state;\n\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  useEffect(() => {\n    let isSubscribed = true;\n    if (isSubscribed) {\n      dispatch({ type: \"load\" });\n      const Loaddata = async () => {\n        await DailyUpdate()\n          .then(res => {\n            console.log(res.data);\n            dispatch({\n              type: \"loaded\",\n              name: \"general_info\",\n              item: res.data\n            });\n          })\n          .catch(err => console.log(err));\n      };\n      Loaddata();\n    }\n    return () => {\n      console.log(\"unmounted\");\n      isSubscribed = false;\n    };\n  }, []);\n\n  const onSearch = async (e) =>{\n      e.preventDefault();\n      console.log(e.currentTarget.value)\n      const result = rows.filter(element => element.combinedKey.toLowerCase().match(e.currentTarget.value.toLowerCase()));\n      console.log(result.length)\n      if(result.length > 0){\n        dispatch({\n            type: \"search\",\n            name: \"general_info\",\n            item: result\n          });\n      }\n      else{\n        dispatch({\n            type: \"search\",\n            name: \"general_info\",\n            item: rowsbackup\n          });\n      }\n  }\n\n  return (\n    <React.Fragment>\n      {isloading ? (\n        <CircleLoading />\n      ) : (\n        <Paper className={classes.root}>\n          <div style={{display:\"flex\"}}>\n            \n            <TextField\n              id=\"filled-required\"\n              variant=\"filled\"\n              placeholder=\"Search Name...\"\n              fullWidth\n              onChange={e=>onSearch(e)}\n            />\n            <FormControl variant=\"filled\" className={classes.formControl}>\n              <InputLabel id=\"demo-simple-select-filled-label\">\n                ISO Code\n              </InputLabel>\n              <Select\n                labelId=\"demo-simple-select-filled-label\"\n                id=\"demo-simple-select-filled\"\n                //   value={age}\n                //   onChange={handleChange}\n              >\n                <MenuItem value=\"\">\n                  <em>None</em>\n                </MenuItem>\n                <MenuItem value={10}>Ten</MenuItem>\n                <MenuItem value={20}>Twenty</MenuItem>\n                <MenuItem value={30}>Thirty</MenuItem>\n              </Select>\n            </FormControl>\n          </div>\n\n          <TableContainer className={classes.container}>\n            <Table stickyHeader aria-label=\"sticky table\">\n              <TableHead>\n                <TableRow>\n                  {columns.map(column => (\n                    <TableCell\n                      key={column.id}\n                      align={column.align}\n                      style={{ minWidth: column.minWidth, fontWeight: 600 }}\n                    >\n                      {column.label}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {rows\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                  .map((row, index) => {\n                    return (\n                      <TableRow hover role=\"checkbox\" tabIndex={-1} key={index}>\n                        {columns.map((column, indx) => {\n                          const value = row[column.id];\n                          return (\n                            <TableCell key={indx} align={column.align}>\n                              {value}\n                            </TableCell>\n                          );\n                        })}\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[10, 25, 100, 200]}\n            component=\"div\"\n            count={rows.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n      )}\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}