{"ast":null,"code":"var _jsxFileName = \"/home/webdev/Desktop/practice/my-app/src/components/manage/common/dailyupdate.js\";\nimport React, { useEffect, useReducer } from \"react\";\nimport { DailyUpdate, FilterData } from \"../../actions/Api\";\nimport { CircleLoading } from \"react-loadingg\";\nimport SimpleBreadcrumbs from \"./breadcrumbs\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Typography from \"@material-ui/core/Typography\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"98%\",\n    margin: \"5% auto\"\n  },\n  container: {\n    maxHeight: 440\n  },\n  formControl: {\n    marginLeft: \"1%\",\n    minWidth: 250\n  }\n}));\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"load\":\n      {\n        return { ...state,\n          isloading: true\n        };\n      }\n\n    case \"firstload\":\n      {\n        return { ...state,\n          isocode: action.data\n        };\n      }\n\n    case \"loaded\":\n      {\n        return { ...state,\n          isloading: false,\n          rows: action.item,\n          rowsbackup: action.item\n        };\n      }\n\n    case \"search\":\n      {\n        return { ...state,\n          isloading: false,\n          rows: action.item\n        };\n      }\n\n    case \"filter\":\n      {\n        return { ...state,\n          isloading: false,\n          rows: action.item\n        };\n      }\n\n    case \"iso_code\":\n      {\n        return { ...state,\n          valcode: action.payloads\n        };\n      }\n\n    default:\n      break;\n  }\n\n  return state;\n}\n\nconst InitialState = {\n  isloading: false,\n  isocode: [],\n  valcode: \"\",\n  rows: [],\n  rowsbackup: [],\n  columns: [{\n    id: \"combinedKey\",\n    label: \"Name\",\n    minWidth: 170\n  }, {\n    id: \"countryRegion\",\n    label: \"ISO\\u00a0Code\",\n    minWidth: 100\n  }, {\n    id: \"provinceState\",\n    label: \"Province State\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toLocaleString()\n  }, {\n    id: \"confirmed\",\n    label: \"Confirmed Case\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toFixed(2)\n  }, {\n    id: \"recovered\",\n    label: \"Recovered Case\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toFixed(2)\n  }, {\n    id: \"deaths\",\n    label: \"Deaths Case\",\n    minWidth: 170,\n    align: \"right\",\n    format: value => value.toFixed(2)\n  }]\n};\nexport default function TableData(props) {\n  const classes = useStyles();\n  const [state, dispatch] = useReducer(reducer, InitialState);\n  const {\n    rows,\n    rowsbackup,\n    isocode,\n    valcode,\n    columns,\n    isloading\n  } = state;\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  useEffect(() => {\n    let isSubscribed = true;\n\n    if (isSubscribed) {\n      dispatch({\n        type: \"load\"\n      });\n\n      const Loaddata = async () => {\n        await FilterData().then(res => {\n          dispatch({\n            type: \"firstload\",\n            name: \"filter-category\",\n            data: res\n          });\n        });\n        await DailyUpdate().then(res => {\n          console.log(res.data);\n          dispatch({\n            type: \"loaded\",\n            name: \"general_info\",\n            item: res.data\n          });\n        }).catch(err => console.log(err));\n      };\n\n      Loaddata();\n    }\n\n    return () => {\n      console.log(\"unmounted\");\n      isSubscribed = false;\n    };\n  }, []);\n\n  const onSearch = async e => {\n    e.preventDefault();\n    const result = rows.filter(element => element.combinedKey.toLowerCase().match(e.currentTarget.value.toLowerCase()));\n\n    if (result.length > 0 && e.currentTarget.value.length > 0) {\n      dispatch({\n        type: \"search\",\n        name: \"general_info\",\n        item: result\n      });\n    } else {\n      dispatch({\n        type: \"search\",\n        name: \"general_info\",\n        item: rowsbackup\n      });\n    }\n  };\n\n  const OnFilter = async e => {\n    e.preventDefault();\n    dispatch({\n      type: \"iso_code\",\n      payloads: e.target.value\n    });\n    const result = rowsbackup.filter(element => element.countryRegion.toLowerCase().match(e.target.value.toLowerCase()));\n\n    if (result.length > 0 && e.target.value.length > 0) {\n      dispatch({\n        type: \"filter\",\n        name: \"general_info\",\n        item: result\n      });\n    } else {\n      dispatch({\n        type: \"filter\",\n        name: \"general_info\",\n        item: rowsbackup\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 5\n    }\n  }, isloading ? /*#__PURE__*/React.createElement(CircleLoading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"1%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SimpleBreadcrumbs, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '3%',\n      marginBottom: '1%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    component: \"h2\",\n    style: {\n      textAlign: \"center\",\n      color: \"black\",\n      fontWeight: 600\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  }, \"Daily Update List\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"filled-required\",\n    variant: \"filled\",\n    placeholder: \"Search Name...\",\n    fullWidth: true,\n    onChange: e => onSearch(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"filled\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"demo-simple-select-filled-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, \"ISO Code\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"demo-simple-select-filled-label\",\n    id: \"demo-simple-select-filled\",\n    value: valcode,\n    onChange: e => OnFilter(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 21\n    }\n  }, \"None\")), isocode.length > 0 ? isocode.map((element, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: index,\n    value: element,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }\n  }, element)) : \"\"))), /*#__PURE__*/React.createElement(TableContainer, {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    stickyHeader: true,\n    \"aria-label\": \"sticky table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 19\n    }\n  }, columns.map(column => /*#__PURE__*/React.createElement(TableCell, {\n    key: column.id,\n    align: column.align,\n    style: {\n      minWidth: column.minWidth,\n      fontWeight: 600\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 23\n    }\n  }, column.label)))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }, rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      hover: true,\n      role: \"checkbox\",\n      tabIndex: -1,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 25\n      }\n    }, columns.map((column, indx) => {\n      const value = row[column.id];\n      return /*#__PURE__*/React.createElement(TableCell, {\n        key: indx,\n        align: column.align,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 31\n        }\n      }, value);\n    }));\n  })))), /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [10, 25, 100, 200],\n    component: \"div\",\n    count: rows.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  }))));\n}","map":{"version":3,"sources":["/home/webdev/Desktop/practice/my-app/src/components/manage/common/dailyupdate.js"],"names":["React","useEffect","useReducer","DailyUpdate","FilterData","CircleLoading","SimpleBreadcrumbs","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TextField","FormControl","Select","InputLabel","MenuItem","Typography","useStyles","theme","root","width","margin","container","maxHeight","formControl","marginLeft","minWidth","reducer","state","action","type","isloading","isocode","data","rows","item","rowsbackup","valcode","payloads","InitialState","columns","id","label","align","format","value","toLocaleString","toFixed","TableData","props","classes","dispatch","page","setPage","useState","rowsPerPage","setRowsPerPage","handleChangePage","event","newPage","handleChangeRowsPerPage","target","isSubscribed","Loaddata","then","res","name","console","log","catch","err","onSearch","e","preventDefault","result","filter","element","combinedKey","toLowerCase","match","currentTarget","length","OnFilter","countryRegion","marginTop","marginBottom","textAlign","color","fontWeight","display","map","index","column","slice","row","indx"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport { DailyUpdate, FilterData } from \"../../actions/Api\";\nimport { CircleLoading } from \"react-loadingg\";\nimport SimpleBreadcrumbs from \"./breadcrumbs\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"98%\",\n    margin: \"5% auto\"\n  },\n  container: {\n    maxHeight: 440\n  },\n  formControl: {\n    marginLeft: \"1%\",\n    minWidth: 250\n  }\n}));\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"load\": {\n      return {\n        ...state,\n        isloading: true\n      };\n    }\n    case \"firstload\": {\n      return {\n        ...state,\n        isocode: action.data\n      };\n    }\n    case \"loaded\": {\n      return {\n        ...state,\n        isloading: false,\n        rows: action.item,\n        rowsbackup: action.item\n      };\n    }\n    case \"search\": {\n      return {\n        ...state,\n        isloading: false,\n        rows: action.item\n      };\n    }\n    case \"filter\": {\n      return {\n        ...state,\n        isloading: false,\n        rows: action.item\n      };\n    }\n    case \"iso_code\": {\n      return {\n        ...state,\n        valcode: action.payloads\n      };\n    }\n    default:\n      break;\n  }\n  return state;\n}\n\nconst InitialState = {\n  isloading: false,\n  isocode: [],\n  valcode: \"\",\n  rows: [],\n  rowsbackup: [],\n  columns: [\n    { id: \"combinedKey\", label: \"Name\", minWidth: 170 },\n    { id: \"countryRegion\", label: \"ISO\\u00a0Code\", minWidth: 100 },\n    {\n      id: \"provinceState\",\n      label: \"Province State\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toLocaleString()\n    },\n    {\n      id: \"confirmed\",\n      label: \"Confirmed Case\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toFixed(2)\n    },\n    {\n      id: \"recovered\",\n      label: \"Recovered Case\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toFixed(2)\n    },\n    {\n      id: \"deaths\",\n      label: \"Deaths Case\",\n      minWidth: 170,\n      align: \"right\",\n      format: value => value.toFixed(2)\n    }\n  ]\n};\n\nexport default function TableData(props) {\n  const classes = useStyles();\n  const [state, dispatch] = useReducer(reducer, InitialState);\n  const { rows, rowsbackup, isocode, valcode, columns, isloading } = state;\n\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  useEffect(() => {\n    let isSubscribed = true;\n    if (isSubscribed) {\n      dispatch({ type: \"load\" });\n      const Loaddata = async () => {\n        await FilterData().then(res => {\n          dispatch({\n            type: \"firstload\",\n            name: \"filter-category\",\n            data: res\n          });\n        });\n        await DailyUpdate()\n          .then(res => {\n            console.log(res.data);\n            dispatch({\n              type: \"loaded\",\n              name: \"general_info\",\n              item: res.data\n            });\n          })\n          .catch(err => console.log(err));\n      };\n      Loaddata();\n    }\n    return () => {\n      console.log(\"unmounted\");\n      isSubscribed = false;\n    };\n  }, []);\n\n  const onSearch = async e => {\n    e.preventDefault();\n    const result = rows.filter(element =>\n      element.combinedKey\n        .toLowerCase()\n        .match(e.currentTarget.value.toLowerCase())\n    );\n\n    if (result.length > 0 && e.currentTarget.value.length > 0) {\n      dispatch({\n        type: \"search\",\n        name: \"general_info\",\n        item: result\n      });\n    } else {\n      dispatch({\n        type: \"search\",\n        name: \"general_info\",\n        item: rowsbackup\n      });\n    }\n  };\n  const OnFilter = async e => {\n    e.preventDefault();\n\n    dispatch({\n      type: \"iso_code\",\n      payloads: e.target.value\n    });\n    const result = rowsbackup.filter(element =>\n      element.countryRegion.toLowerCase().match(e.target.value.toLowerCase())\n    );\n    if (result.length > 0 && e.target.value.length > 0) {\n      dispatch({\n        type: \"filter\",\n        name: \"general_info\",\n        item: result\n      });\n    } else {\n      dispatch({\n        type: \"filter\",\n        name: \"general_info\",\n        item: rowsbackup\n      });\n    }\n  };\n  return (\n    <React.Fragment>\n      {isloading ? (\n        <CircleLoading />\n      ) : (\n        <>\n          <div style={{ margin: \"1%\" }}>\n            <SimpleBreadcrumbs {...props} />\n          </div>\n          <Paper className={classes.root}>\n            <div style={{marginTop:'3%',marginBottom:'1%'}}>\n              <Typography\n                variant=\"h5\"\n                component=\"h2\"\n                style={{\n                  textAlign: \"center\",\n                  color: \"black\",\n                  fontWeight: 600\n                }}\n              >\n                Daily Update List\n              </Typography>\n            </div>\n            <div style={{ display: \"flex\" }}>\n              <TextField\n                id=\"filled-required\"\n                variant=\"filled\"\n                placeholder=\"Search Name...\"\n                fullWidth\n                onChange={e => onSearch(e)}\n              />\n              <FormControl variant=\"filled\" className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-filled-label\">\n                  ISO Code\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-filled-label\"\n                  id=\"demo-simple-select-filled\"\n                  value={valcode}\n                  onChange={e => OnFilter(e)}\n                >\n                  <MenuItem value=\"\">\n                    <em>None</em>\n                  </MenuItem>\n                  {isocode.length > 0\n                    ? isocode.map((element, index) => (\n                        <MenuItem key={index} value={element}>\n                          {element}\n                        </MenuItem>\n                      ))\n                    : \"\"}\n                </Select>\n              </FormControl>\n            </div>\n\n            <TableContainer className={classes.container}>\n              <Table stickyHeader aria-label=\"sticky table\">\n                <TableHead>\n                  <TableRow>\n                    {columns.map(column => (\n                      <TableCell\n                        key={column.id}\n                        align={column.align}\n                        style={{ minWidth: column.minWidth, fontWeight: 600 }}\n                      >\n                        {column.label}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {rows\n                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                    .map((row, index) => {\n                      return (\n                        <TableRow\n                          hover\n                          role=\"checkbox\"\n                          tabIndex={-1}\n                          key={index}\n                        >\n                          {columns.map((column, indx) => {\n                            const value = row[column.id];\n                            return (\n                              <TableCell key={indx} align={column.align}>\n                                {value}\n                              </TableCell>\n                            );\n                          })}\n                        </TableRow>\n                      );\n                    })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n            <TablePagination\n              rowsPerPageOptions={[10, 25, 100, 200]}\n              component=\"div\"\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n            />\n          </Paper>\n        </>\n      )}\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}